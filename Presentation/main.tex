\documentclass[aspectratio=43]{beamer}
\usepackage{luatexja}
\usepackage{hyperref,listings,tabularx,tikz,pifont}
\usetikzlibrary{arrows.meta,positioning,calc,fit,shapes.geometric}
\tikzset{str/.style={rounded corners, minimum height=1cm,align=center}}
\usepackage[symbol]{footmisc}
\newcommand{\cmark}{{\Large\bfseries\color{green!50!black}\ding{51}}}
\newcommand{\xmark}{{\Large\bfseries\color{red!50!black}\ding{55}}}
\hypersetup{
    colorlinks=true,
    linkcolor=black,
    urlcolor=blue
}
\usetheme{Montpellier}
\usecolortheme[RGB={160,82,45}]{structure}
\setbeamertemplate{navigation symbols}{}
\renewcommand{\familydefault}{\rmdefault}
\renewcommand{\figurename}{図\thefigure}
\renewcommand{\tablename}{表\thetable}
\renewcommand{\lstlistingname}{src.}
\renewcommand{\thefootnote}{\fnsymbol{footnote}}
\renewcommand{\thempfootnote}{\fnsymbol{mpfootnote}}
\bibliographystyle{junsrt}
\setbeamertemplate{bibliography item}[text]
\setbeamertemplate{section in toc}{
    {\color{structure}\inserttocsectionnumber.}\ \inserttocsection\vspace{.3em}
}

\setbeamertemplate{subsection in toc}{
    \hspace{1.2em}{\color{structure}\rule[.3ex]{3pt}{3pt}}\ \inserttocsubsection\par\vspace{.3em}
}
\setbeamertemplate{footline}{
    \leavevmode
    \hbox{
        \begin{beamercolorbox}[wd=.95\paperwidth,ht=1ex,right,dp=1.5ex,rightskip=0em]{bg=gray}
            \insertframenumber{} / \inserttotalframenumber
        \end{beamercolorbox}
    }
}
\setbeamercolor{block title}{use=structure,fg=white,bg=structure.fg!75!black}
\setbeamercolor{block title example}{parent=example text, fg=white,bg=example text.fg!75!black}
\setbeamercolor{block title alerted}{parent=alerted text, fg=white,bg=alerted text.fg!75!black}
\setbeamercolor{block body}{parent=normal text,use=block title,bg=block title.bg!10}
\setbeamercolor{block body alerted}{parent=normal text,use=block title alerted,bg=block title alerted.bg!10}
\setbeamercolor{block body example}{parent=normal text,use=block title example,bg=block title example.bg!10}
\setbeamertemplate{enumerate item}[default]
\setbeamertemplate{itemize item}[triange]
\newcolumntype{C}{>{\centering\arraybackslash}X}
\newcolumntype{R}{>{\raggedright\arraybackslash}X}
\newcolumntype{L}{>{\raggedleft\arraybackslash}X}
\lstdefinelanguage{docker-compose-2}{
    keywords={version, volumes, services},
    morekeywords={FROM,RUN,CMD,EXPOSE,ENV},
    keywords=[2]{image, environment, ports, container_name, ports, links, build},
    sensitive=false,
    comment=[l]{\#},
    morestring=[b]',
    morestring=[b]"
}
\lstset{
    %枠外に行った時の自動改行
    breaklines = true,
    %自動改行後のインデント量(デフォルトでは20[pt])
    breakindent = 10pt,
    %標準の書体
    basicstyle = \ttfamily\small,
    %コメントの書体
    commentstyle = {\scriptsize\ttfamily \color[cmyk]{1,0.4,1,0}},
    %関数名等の色の設定
    classoffset = 0,
    %キーワード(int, ifなど)の書体
    keywordstyle = {\bfseries\ttfamily \color[cmyk]{0,1,0,0}},
    %表示する文字の書体
    stringstyle = {\ttfamily \color[rgb]{0,0,1}},
    %枠 tは上に線を記載, Tは上に二重線を記載
    %他オプション：leftline，topline，bottomline，lines，single，shadowbox
    frame = single,
    %frameまでの間隔(行番号とプログラムの間)
    framesep = 5pt,
    %行番号の位置
    numbers = left,
    %行番号の間隔
    stepnumber = 1,
    %行番号の書体
    numberstyle = \scriptsize,
    %タブの大きさ
    tabsize = 4,
    %キャプションの場所(tbならば上下両方に記載)
    captionpos = t,
    % 左余白
    xleftmargin=1em,
}
\makeatletter
\@addtoreset{footnote}{page}
\makeatother
\newcommand{\ftitle}{\thesection.\thesubsection\ \subsecname}
\newcommand{\fftitle}{\thesection.\ \secname}
\newcommand{\stocsec}{{1-3}}
\newcommand{\ftocsec}{{4-6}}
\newcommand{\tocc}{
    \begin{frame}[t]{\thesection.\ \secname}
        \begin{columns}[t]
            \begin{column}{.48\textwidth}
                \tableofcontents[sections=\stocsec,currentsection,sectionstyle=show/shaded,subsectionstyle=show/show/shaded]
            \end{column}
            \begin{column}{.48\textwidth}
                \tableofcontents[sections=\ftocsec,currentsection,sectionstyle=show/shaded,subsectionstyle=show/show/shaded]
            \end{column}
        \end{columns}
    \end{frame}
}
\title{仮想化技術とクラウドコンピューティング}
\subtitle{AWS第1回}
\author{吉川 恭平\and 塩澤 康志\and 福島 康記\and 溝口 洸熙}
\institute{情報学群実験第4 Group C5}
\date{July 24th, 2023}
\begin{document}
\begin{frame}
    \maketitle
\end{frame}
\begin{frame}[t]{お品書き}
    \begin{columns}[t]
        \begin{column}{.48\textwidth}
            \tableofcontents[sections=\stocsec]
        \end{column}
        \begin{column}{.48\textwidth}
            \tableofcontents[sections=\ftocsec]
        \end{column}
    \end{columns}
\end{frame}
\input{vmm.tex}
\input{VM.tex}
\input{docker.tex}
\input{mode.tex}
\input{cloud.tex}
\input{aws.tex}
\begin{frame}[allowframebreaks]{Reference}
    \bibliography{bib}
\end{frame}
\end{document}