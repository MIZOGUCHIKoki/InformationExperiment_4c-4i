# 実験の目的
本実験では，VLANとルータを用いて，ネットワークを分割する．また，所属するネットワークに対してNAPTを設定し，特定の通信以外を拒否し，加えてポートフォワーディングを設定する．
## 構築する理由
昨今，インターネットが普及し，家庭でもLANを持つことが普通になっている．たとえば，集合住宅でインターネット回線を引くことを考える．建物全体で1つのLANとし，各戸間でのネットワークを分離しない場合，別戸のネットワーク機器へのアクセスは容易である．各戸間でネットワークの分離することにより，各戸間でのやりとりに制限を設けられる．
また，1つのスイッチ内に仮想的なスイッチを複数用意し，各ネットワークごとにL2スイッチを設置せずとも，簡便にLANを構築できる．
さらに，IPv4アドレスの枯渇問題に対応すべく，プライベートIPアドレスとグローバルIPアドレスを対応づけて通信し，外部から直接LAN内ホストへのアクセスを禁止する．加えて，許可した通信以外を拒否する設定をし，LANの安全性を高める．
## 構築するものの要素技術
LAN間のネットワーク分離はL3スイッチ（以下，ルータと呼ぶ）を用いる．
1台のスイッチ内に仮想的なスイッチを用意する技術をVLAN（Virtual LAN）と呼び，本実験ではこれを採用する．
さらにプライベートIPアドレスとグローバルIPアドレスをポート番号をもとに動的に対応づけ，特定通信以外を拒否するしくみとしてNAPT，特定ポートの通信を特定ホストに転送するポートフォワーディングを採用する．
# 要素技術
## ルーティングプロトコル
AS（Autonomous System）とは，経路制御に関するルールを決めて，それをもとに運用する範囲．AS内部の経路制御ではIGP（Interior Gateway Protocol），AS間の経路制御ではEGP（Exterior Gateway Protocol）を用いる．
### 経路制御アルゴリズム
経路制御のアルゴリズムは大きく2つある．
- **距離ベクトル型：** 距離と方向によってネットワークやホストの位置を決定し，これらの情報から経路制御表を作成する．
処理は比較的簡単だが，ルータ間で交換される情報は距離と向きだけなので，ネットワークが複雑になると，経路の収束に時間がかかる．
- **リンク状態型：** ルータがネットワーク全体の接続状態を理解して経路制御表を作成する方法．ネットワークの構造は，どのルータにとっても同じなので，すべてのルータが同じ経路制御情報を持つ．ルータ間の経路制御情報を素早く同期させれば，経路制御を安定させられる．リンク状態型は複雑なネットワークでも安定した経路制御をできるが，ネットワークトポロジーから経路制御表を作成する計算コストが高いことが欠点である．

### 主なルーティングプロトコル
以下の2つを説明する．
- RIP
- OSPF

## VLAN
VLAN（Virtual LAN）とは，1つのL2スイッチに接続されていても，異なるセグメントとして設定でき，VLAN同士の通信を一切遮断する技術である．
この技術を用いることで，ポートごとのにセグメントを分割でき，ブロードキャストドメインを区切ることができる．これにより，ネットワーク負荷を軽減でき，安全性が向上する．
さらに，ネットワークの配線を変えずにネットワークの構造を変更でき，機器の節約にもつながる．
